document.addEventListener("DOMContentLoaded",()=>{const e=null!=navigator.userAgent.match(/iPhone/i),t=null!=navigator.userAgent.match(/iPad/i),i=null!=navigator.userAgent.match(/iPod/i),s=document.querySelector(".body"),a=document.querySelector(".header__container"),o=document.querySelector(".burger"),n=document.querySelector(".nav"),r=window.matchMedia("(max-width: 767px)"),l=document.querySelector(".header"),d=(document.querySelector(".hero"),document.querySelector(".simple__swiper")),c=document.querySelector(".simple__swiper--platform");let u="scrollBehavior"in document.documentElement.style,m=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(!u){const e=(e,t,i)=>{const s=document.querySelector(""+i).clientHeight;let a=document.querySelector(e).getBoundingClientRect().top-s,o=window.pageYOffset,n=null;const r=function(e){null===n&&(n=e);const i=e-n,s=(l=i,d=o,c=a,(l/=t/2)<1?c/2*l*l+d:-c/2*(--l*(l-2)-1)+d);var l,d,c;window.scrollTo(0,s),i<t&&requestAnimationFrame(r)};requestAnimationFrame(r)};(()=>{document.querySelectorAll("a[href]").forEach(t=>{t.addEventListener("click",(function(i){if("#"===t.getAttribute("href")[0]){i.preventDefault();const t=this.getAttribute("href");setTimeout(()=>{e(t,1e3,".header")},200)}}))})})()}if(window.innerWidth>768){const e=document.querySelectorAll(".animate-item");if(m)e.forEach(e=>{e.classList.add("animated")});else{const t=(e,t,i,s=0)=>{let a=e.getBoundingClientRect();e.dataset.delay&&(s=e.dataset.delay),a.top+a.height-a.height*i>0&&window.innerHeight-a.top-a.height*t>0?(e.classList.add("animated"),e.style.transitionDelay=s+"s"):e.hasAttribute("data-animation-once")||e.classList.remove("animated")};0!=e.length&&(e.forEach(e=>{t(e,.5,.5)}),document.addEventListener("scroll",()=>{e.forEach(e=>{t(e,.5,.5)})}))}}let p=!1;r.matches&&n.setAttribute("aria-hidden",!0);const h=()=>{o.classList.add("burger--active"),s.classList.add("lock"),n.classList.add("nav--active"),o.setAttribute("aria-expanded",!0),n.setAttribute("aria-hidden",!1),(t||e||i)&&(()=>{let e=window.scrollY;document.querySelector("html").style.scrollBehavior="auto",document.body.classList.add("ios-lock"),document.body.dataset.position=e,document.body.style.top=-e+"px"})(),p=!0},w=()=>{o.classList.remove("burger--active"),s.classList.remove("lock"),n.classList.remove("nav--active"),o.setAttribute("aria-expanded",!1),n.setAttribute("aria-hidden",!0),(t||e||i)&&(()=>{let e=parseInt(document.body.dataset.position,10);document.body.style.top="auto",document.body.classList.remove("ios-lock"),window.scroll({top:e,left:0}),document.querySelector("html").removeAttribute("style"),document.body.removeAttribute("data-position")})(),p=!1},g=()=>{switch(p){case!1:h();break;case!0:w()}};a.addEventListener("click",e=>{(e.target.classList.contains("burger")||e.target.classList.contains("nav__link")&&window.innerWidth<768)&&g()}),window.addEventListener("scroll",()=>{b()});const b=()=>{r.matches?r.matches&&window.scrollY>0&&l.classList.add("header--fixed"):window.scrollY>0?l.classList.add("header--fixed"):0===window.scrollY&&l.classList.remove("header--fixed")};b();let y=()=>{window.innerWidth<=768&&"false"===d.dataset.mobile&&(swiperSimple=new Swiper(d,{containerModifierClass:"swiper",wrapperClass:"swiper__wrapper",slideClass:"swiper__slide",loop:!0,spaceBetween:15,pagination:{el:".swiper__pagination",clickable:!0,bulletElement:"button",bulletClass:"swiper-pagination-bullet btn-reset"},a11y:{paginationBulletMessage:"Перейти к слайду {{index}}"},breakpoints:{300:{slidesPerView:1.3},450:{slidesPerView:1.8}}}),d.dataset.mobile="true"),window.innerWidth>768&&(d.dataset.mobile="false",d.classList.contains("swiperinitialized")&&swiperSimple.destroy())};y();let _=()=>{window.innerWidth<=768&&"false"===c.dataset.mobile&&(swiperPlatform=new Swiper(c,{containerModifierClass:"swiper",wrapperClass:"swiper__wrapper",slideClass:"swiper__slide",loop:!0,spaceBetween:15,pagination:{el:".swiper__pagination",clickable:!0,bulletElement:"button",bulletClass:"swiper-pagination-bullet btn-reset"},a11y:{paginationBulletMessage:"Перейти к слайду {{index}}"},breakpoints:{300:{slidesPerView:1.3},450:{slidesPerView:1.8}}}),c.dataset.mobile="true"),window.innerWidth>768&&(c.dataset.mobile="false",c.classList.contains("swiperinitialized")&&swiperPlatform.destroy())};_(),window.addEventListener("resize",()=>{y(),_()});const v=document.querySelectorAll(".accordion__trigger"),L=e=>{const t=e,i=e.closest(".accordion__item").querySelector(".accordion__body");(e=>{e.disabled=!0,setTimeout(()=>{e.disabled=!1},500)})(t),(e=>{e.addEventListener("transitionend",()=>{"0px"!==e.style.height&&(e.style.height="auto")})})(i),((e,t)=>{"0px"!==t.style.height&&"0px"!==window.getComputedStyle(t).height&&(e.closest(".accordion__item").classList.remove("accordion__item--active"),e.classList.remove("accordion__trigger--active"),e.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true"),t.style.height=t.scrollHeight+"px",setTimeout(()=>{t.style.height="0"},0),setTimeout(()=>{t.classList.add("accordion__body--hidden")},500))})(t,i),((e,t)=>{t.style.height=t.scrollHeight+"px","0px"!==t.style.height&&"0px"!==window.getComputedStyle(t).height||(e.closest(".accordion__item").classList.add("accordion__item--active"),e.classList.add("accordion__trigger--active"),e.setAttribute("aria-expanded","true"),t.setAttribute("aria-hidden","false"),t.classList.remove("accordion__body--hidden"))})(t,i)};v.forEach(e=>{e.addEventListener("click",e=>{let t=e.currentTarget;L(t)})})});
//# sourceMappingURL=main.js.map
